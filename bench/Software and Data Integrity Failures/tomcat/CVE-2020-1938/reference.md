# CVE-2020-1938 Apache Tomcat AJP文件包含漏洞

## 复现

访问下面的链接或在github上自己寻找

https://github.com/Kit4y/CNVD-2020-10487-Tomcat-Ajp-lfi-Scanner

threading-find-port-8009.py用于找出开放8009端口的域名或IP, 我们将要扫描的域名或IP放于ip.txt

运行threading-find-port-8009.py后会生成8009.txt, 它保存 ip.txt 中开放8009端口的域名/IP

`python threading-find-port-8009.py`
threading-CNVD-2020-10487-Tomcat-Ajp-lfi.py从8009.txt中筛选出符合漏洞的url, 放置于vul.txt中. 最后vul.txt中存在的域名即为含有漏洞的域名.
```
python threading-CNVD-2020-10487-Tomcat-Ajp-lfi.py
```

## 跨目录读取
脚本默认读取ROOT目录下的文件, 如果想读取webapps其他目录下的文件, 可以对脚本进行简单的修改

不可以跨目录读取/etc/passwd等文件, 只能读取和包含webapps目录下的文件 

修改“/asdf”就可以实现跨目录读取. 比如我们要读取test目录下的test.txt

`_,data = t.perform_request('/test/asdf',attributes=[`
在webapps下的创建一个test目录, 放上一个test.txt文件